(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,25443,e=>{"use strict";var s=e.i(58588),a=e.i(45198),t=e.i(88566),r=e.i(45752),l=e.i(49701),i=e.i(44795),n=e.i(22821),c=e.i(19681),d=e.i(59293),o=e.i(39829),m=e.i(15599),h=e.i(99438),x=e.i(57031),u=e.i(85397),p=e.i(94730),j=e.i(67229),g=e.i(3036),v=e.i(61534);let f=(0,v.default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var b=e.i(85376),N=e.i(63790),C=e.i(44851),y=e.i(66662),w=e.i(88803),T=e.i(7114),k=e.i(43249),S=e.i(91389);let I=["Be specific about the population affected and the geographic area.","Quantify the problem with available data or estimates.","Focus on the problem, not the solution.","Ensure the problem is within your organization's scope to address."];var B=e.i(85873),D=e.i(5548);let P={name:"",type:"secondary",interest:"",influence:"medium",expectations:""},A=[{value:"primary",label:"Primary Beneficiary",description:"Direct recipients of program benefits"},{value:"secondary",label:"Secondary Stakeholder",description:"Indirectly affected or supporting"},{value:"key",label:"Key Decision Maker",description:"Has authority over resources or policy"}],H=[{value:"high",label:"High",color:"bg-red-500/10 text-red-700"},{value:"medium",label:"Medium",color:"bg-yellow-500/10 text-yellow-700"},{value:"low",label:"Low",color:"bg-green-500/10 text-green-700"}],M=(0,v.default)("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),z=(0,v.default)("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]),L=(0,v.default)("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),U=[{key:"inputs",title:"Inputs",description:"Resources required for the program",placeholder:"e.g., Funding, Staff, Materials, Training",color:"bg-slate-500/10 text-slate-700 border-slate-300"},{key:"activities",title:"Activities",description:"Actions taken to produce outputs",placeholder:"e.g., Teacher training workshops, Curriculum development",color:"bg-blue-500/10 text-blue-700 border-blue-300"},{key:"outputs",title:"Outputs",description:"Direct products of activities",placeholder:"e.g., 100 teachers trained, 50 classrooms equipped",color:"bg-green-500/10 text-green-700 border-green-300"},{key:"outcomes",title:"Outcomes",description:"Short to medium-term changes",placeholder:"e.g., Improved teaching quality, Increased attendance",color:"bg-amber-500/10 text-amber-700 border-amber-300"}];var E=e.i(67939);let q={narrative:"",indicators:[""],mov:[""],assumptions:[""]},R=[{value:"output",label:"Output Indicator"},{value:"outcome",label:"Outcome Indicator"},{value:"impact",label:"Impact Indicator"}],O=[{value:"monthly",label:"Monthly"},{value:"quarterly",label:"Quarterly"},{value:"biannually",label:"Bi-annually"},{value:"annually",label:"Annually"}],V={target:d.Target,users:o.Users,"git-branch":m.GitBranch,"git-merge":h.GitMerge,workflow:x.Workflow,table:u.Table,"bar-chart":p.BarChart3},W={1:function({projectId:e}){let{projects:t,updateProjectData:i,updateProgress:n}=(0,r.useDemoStore)(),c=t.find(s=>s.id===e),[d,o]=(0,a.useState)({centralProblem:"",context:"",targetBeneficiaries:"",geographicScope:"",urgency:"medium"});(0,a.useEffect)(()=>{c?.data.problemDefinition&&o(c.data.problemDefinition)},[c?.data.problemDefinition]);let m=(s,a)=>{let t={...d,[s]:a};o(t),i(e,"problemDefinition",t)},h=d.centralProblem&&d.context&&d.targetBeneficiaries&&d.geographicScope;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)(C.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(N.Sparkles,{className:"h-4 w-4 text-primary"}),"AI Tips for Problem Definition"]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)("ul",{className:"grid gap-2 sm:grid-cols-2",children:I.map((e,a)=>(0,s.jsxs)("li",{className:"flex items-start gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(S.Lightbulb,{className:"h-4 w-4 text-accent mt-0.5 shrink-0"}),e]},a))})})]}),(0,s.jsxs)("div",{className:"grid gap-6",children:[(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{children:[(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Central Problem Statement"}),(0,s.jsx)(C.CardDescription,{children:"What is the main problem your program aims to address? Write it as a negative condition affecting a specific population."})]}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(T.Textarea,{placeholder:"e.g., Children aged 6-14 in rural Bihar have low foundational literacy skills, with only 30% able to read grade-level text.",value:d.centralProblem,onChange:e=>m("centralProblem",e.target.value),rows:4,className:"resize-none"})})]}),(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{children:[(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Context & Background"}),(0,s.jsx)(C.CardDescription,{children:"Provide relevant background information about the problem, including data, trends, and existing efforts."})]}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(T.Textarea,{placeholder:"Describe the historical context, relevant statistics, previous interventions, and why this problem persists...",value:d.context,onChange:e=>m("context",e.target.value),rows:5,className:"resize-none"})})]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{children:[(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Target Beneficiaries"}),(0,s.jsx)(C.CardDescription,{children:"Who are the primary people affected by this problem?"})]}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(T.Textarea,{placeholder:"e.g., Out-of-school children aged 6-14, first-generation learners, girls from marginalized communities...",value:d.targetBeneficiaries,onChange:e=>m("targetBeneficiaries",e.target.value),rows:3,className:"resize-none"})})]}),(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{children:[(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Geographic Scope"}),(0,s.jsx)(C.CardDescription,{children:"Where will this program be implemented?"})]}),(0,s.jsxs)(C.CardContent,{className:"space-y-4",children:[(0,s.jsx)(w.Input,{placeholder:"e.g., 5 blocks in Muzaffarpur district, Bihar",value:d.geographicScope,onChange:e=>m("geographicScope",e.target.value)}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{children:"Problem Urgency"}),(0,s.jsxs)(k.Select,{value:d.urgency,onValueChange:e=>m("urgency",e),children:[(0,s.jsx)(k.SelectTrigger,{children:(0,s.jsx)(k.SelectValue,{placeholder:"Select urgency level"})}),(0,s.jsxs)(k.SelectContent,{children:[(0,s.jsx)(k.SelectItem,{value:"low",children:"Low - Can be addressed gradually"}),(0,s.jsx)(k.SelectItem,{value:"medium",children:"Medium - Requires timely attention"}),(0,s.jsx)(k.SelectItem,{value:"high",children:"High - Needs immediate action"}),(0,s.jsx)(k.SelectItem,{value:"critical",children:"Critical - Emergency situation"})]})]})]})]})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.Button,{onClick:()=>{n(e,1)},disabled:!h,children:"Mark Step as Complete"})})]})},2:function({projectId:e}){let{projects:t,updateProjectData:i,updateProgress:c}=(0,r.useDemoStore)(),d=t.find(s=>s.id===e),[m,h]=(0,a.useState)([]);(0,a.useEffect)(()=>{d?.data.stakeholders&&h(d.data.stakeholders)},[d?.data.stakeholders]);let x=()=>{let s=[...m,{...P,id:crypto.randomUUID()}];h(s),i(e,"stakeholders",s)},u=(s,a,t)=>{let r=m.map(e=>e.id===s?{...e,[a]:t}:e);h(r),i(e,"stakeholders",r)},p=m.length>=3&&m.every(e=>e.name&&e.interest);return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)(C.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(N.Sparkles,{className:"h-4 w-4 text-primary"}),"Stakeholder Analysis Tips"]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Identify all individuals, groups, and organizations who have an interest in or influence over your program. Include at least 3 stakeholders covering primary beneficiaries, partners, and decision-makers."})})]}),(0,s.jsx)("div",{className:"space-y-4",children:0===m.length?(0,s.jsx)(C.Card,{className:"border-dashed",children:(0,s.jsxs)(C.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(o.Users,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No stakeholders yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Add your first stakeholder to begin the analysis"}),(0,s.jsxs)(l.Button,{onClick:x,children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Add Stakeholder"]})]})}):m.map((a,t)=>(0,s.jsxs)(C.Card,{children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(C.CardTitle,{className:"text-base",children:["Stakeholder ",t+1]}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;let t;return s=a.id,void(h(t=m.filter(e=>e.id!==s)),i(e,"stakeholders",t))},children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]})}),(0,s.jsxs)(C.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{children:"Name / Group"}),(0,s.jsx)(w.Input,{placeholder:"e.g., Primary School Teachers",value:a.name,onChange:e=>u(a.id,"name",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{children:"Stakeholder Type"}),(0,s.jsxs)(k.Select,{value:a.type,onValueChange:e=>u(a.id,"type",e),children:[(0,s.jsx)(k.SelectTrigger,{children:(0,s.jsx)(k.SelectValue,{})}),(0,s.jsx)(k.SelectContent,{children:A.map(e=>(0,s.jsx)(k.SelectItem,{value:e.value,children:(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{children:e.label}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:e.description})]})},e.value))})]})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{children:"Interest in the Program"}),(0,s.jsx)(T.Textarea,{placeholder:"What is this stakeholder's interest or stake in the program?",value:a.interest,onChange:e=>u(a.id,"interest",e.target.value),rows:2})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{children:"Level of Influence"}),(0,s.jsxs)(k.Select,{value:a.influence,onValueChange:e=>u(a.id,"influence",e),children:[(0,s.jsx)(k.SelectTrigger,{children:(0,s.jsx)(k.SelectValue,{})}),(0,s.jsx)(k.SelectContent,{children:H.map(e=>(0,s.jsx)(k.SelectItem,{value:e.value,children:(0,s.jsx)(n.Badge,{className:e.color,children:e.label})},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(y.Label,{children:"Expectations"}),(0,s.jsx)(w.Input,{placeholder:"What do they expect from the program?",value:a.expectations,onChange:e=>u(a.id,"expectations",e.target.value)})]})]})]})]},a.id))}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[m.length>0&&(0,s.jsxs)(l.Button,{variant:"outline",onClick:x,children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Add Another Stakeholder"]}),(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(l.Button,{onClick:()=>{c(e,2)},disabled:!p,children:"Mark Step as Complete"})})]})]})},3:function({projectId:e}){let{projects:t,updateProjectData:i,updateProgress:c}=(0,r.useDemoStore)(),d=t.find(s=>s.id===e),[o,h]=(0,a.useState)(""),[x,u]=(0,a.useState)([]),[p,j]=(0,a.useState)([]);(0,a.useEffect)(()=>{d?.data.problemTree?(h(d.data.problemTree.centralProblem||""),u(d.data.problemTree.causes||[]),j(d.data.problemTree.effects||[])):d?.data.problemDefinition?.centralProblem&&h(d.data.problemDefinition.centralProblem)},[d?.data.problemTree,d?.data.problemDefinition]);let g=(s,a,t)=>{i(e,"problemTree",{centralProblem:s,causes:a,effects:t})},v=o&&x.length>=2&&p.length>=2;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)(C.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(N.Sparkles,{className:"h-4 w-4 text-primary"}),"Problem Tree Guidance"]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:'The Problem Tree visualizes the cause-effect relationships. Place the central problem in the middle, root causes below (the "roots"), and effects above (the "branches"). Ask "Why?" for causes and "So what?" for effects.'})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M,{className:"h-5 w-5 text-destructive"}),(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Effects"}),(0,s.jsx)(n.Badge,{variant:"outline",children:p.length})]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=[...p,{id:crypto.randomUUID(),text:""}];j(e),g(o,x,e)},children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Add Effect"]})]}),(0,s.jsx)(C.CardDescription,{children:"What are the consequences of the central problem?"})]}),(0,s.jsx)(C.CardContent,{children:0===p.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add at least 2 effects of the central problem"}):(0,s.jsx)("div",{className:"space-y-3",children:p.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-muted-foreground w-6",children:[a+1,"."]}),(0,s.jsx)(w.Input,{placeholder:"e.g., Higher school dropout rates",value:e.text,onChange:s=>{var a,t;let r;return a=e.id,t=s.target.value,void(j(r=p.map(e=>e.id===a?{...e,text:t}:e)),g(o,x,r))},className:"flex-1"}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;let a;return s=e.id,void(j(a=p.filter(e=>e.id!==s)),g(o,x,a))},children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]},e.id))})})]}),(0,s.jsxs)(C.Card,{className:"border-2 border-primary",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(m.GitBranch,{className:"h-5 w-5 text-primary"}),(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Central Problem"})]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(w.Input,{value:o,onChange:e=>{var s;h(s=e.target.value),g(s,x,p)},className:"text-center font-medium",placeholder:"The main problem your program addresses"})})]}),(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(z,{className:"h-5 w-5 text-accent"}),(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Root Causes"}),(0,s.jsx)(n.Badge,{variant:"outline",children:x.length})]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=[...x,{id:crypto.randomUUID(),text:""}];u(e),g(o,e,p)},children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Add Cause"]})]}),(0,s.jsx)(C.CardDescription,{children:"What are the underlying causes of the central problem?"})]}),(0,s.jsx)(C.CardContent,{children:0===x.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add at least 2 root causes of the central problem"}):(0,s.jsx)("div",{className:"space-y-3",children:x.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-muted-foreground w-6",children:[a+1,"."]}),(0,s.jsx)(w.Input,{placeholder:"e.g., Lack of trained teachers",value:e.text,onChange:s=>{var a,t;let r;return a=e.id,t=s.target.value,void(u(r=x.map(e=>e.id===a?{...e,text:t}:e)),g(o,r,p))},className:"flex-1"}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;let a;return s=e.id,void(u(a=x.filter(e=>e.id!==s)),g(o,a,p))},children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]},e.id))})})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.Button,{onClick:()=>{c(e,3)},disabled:!v,children:"Mark Step as Complete"})})]})},4:function({projectId:e}){let{projects:t,updateProjectData:i,updateProgress:c}=(0,r.useDemoStore)(),d=t.find(s=>s.id===e),[o,m]=(0,a.useState)(""),[x,u]=(0,a.useState)([]),[p,j]=(0,a.useState)([]);(0,a.useEffect)(()=>{d?.data.objectiveTree&&(m(d.data.objectiveTree.centralObjective||""),u(d.data.objectiveTree.means||[]),j(d.data.objectiveTree.ends||[]))},[d?.data.objectiveTree]);let g=(s,a,t)=>{i(e,"objectiveTree",{centralObjective:s,means:a,ends:t})},v=o&&x.length>=2&&p.length>=2,f=d?.data.problemTree?.centralProblem;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(C.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(N.Sparkles,{className:"h-4 w-4 text-primary"}),"Objective Tree Guidance"]}),f&&(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=d?.data.problemTree;if(!e)return;let s=e=>{let s=e;return["lack of","low","poor","inadequate","insufficient","limited","weak","no","not"].forEach(e=>{let a=RegExp(e,"gi");"lack of"===e?s=s.replace(a,"adequate"):"low"===e?s=s.replace(a,"improved"):"poor"===e?s=s.replace(a,"quality"):"inadequate"===e?s=s.replace(a,"adequate"):"insufficient"===e?s=s.replace(a,"sufficient"):"limited"===e?s=s.replace(a,"expanded"):"weak"===e?s=s.replace(a,"strengthened"):("no"===e||"not"===e)&&(s=s.replace(a,""))}),s.trim()},a=s(e.centralProblem),t=e.causes.map(e=>({id:crypto.randomUUID(),text:s(e.text)})),r=e.effects.map(e=>({id:crypto.randomUUID(),text:s(e.text)}));m(a),u(t),j(r),g(a,t,r)},children:[(0,s.jsx)(L,{className:"mr-2 h-4 w-4"}),"Auto-generate from Problem Tree"]})]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:'Transform your Problem Tree into an Objective Tree by converting negative statements into positive desired conditions. Causes become "means" (how to achieve), and effects become "ends" (what you want to achieve).'})})]}),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(M,{className:"h-5 w-5 text-primary"}),(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Ends (Desired Outcomes)"}),(0,s.jsx)(n.Badge,{variant:"outline",children:p.length})]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=[...p,{id:crypto.randomUUID(),text:""}];j(e),g(o,x,e)},children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Add End"]})]}),(0,s.jsx)(C.CardDescription,{children:"What positive outcomes will result from achieving the objective?"})]}),(0,s.jsx)(C.CardContent,{children:0===p.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add at least 2 desired outcomes"}):(0,s.jsx)("div",{className:"space-y-3",children:p.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-muted-foreground w-6",children:[a+1,"."]}),(0,s.jsx)(w.Input,{placeholder:"e.g., Improved school retention rates",value:e.text,onChange:s=>{var a,t;let r;return a=e.id,t=s.target.value,void(j(r=p.map(e=>e.id===a?{...e,text:t}:e)),g(o,x,r))},className:"flex-1"}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;let a;return s=e.id,void(j(a=p.filter(e=>e.id!==s)),g(o,x,a))},children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]},e.id))})})]}),(0,s.jsxs)(C.Card,{className:"border-2 border-primary",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(h.GitMerge,{className:"h-5 w-5 text-primary"}),(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Central Objective"})]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(w.Input,{value:o,onChange:e=>{var s;m(s=e.target.value),g(s,x,p)},className:"text-center font-medium",placeholder:"The main objective your program will achieve"})})]}),(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(z,{className:"h-5 w-5 text-accent"}),(0,s.jsx)(C.CardTitle,{className:"text-lg",children:"Means (Strategies)"}),(0,s.jsx)(n.Badge,{variant:"outline",children:x.length})]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let e=[...x,{id:crypto.randomUUID(),text:""}];u(e),g(o,e,p)},children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"}),"Add Means"]})]}),(0,s.jsx)(C.CardDescription,{children:"What strategies or actions will help achieve the objective?"})]}),(0,s.jsx)(C.CardContent,{children:0===x.length?(0,s.jsx)("p",{className:"text-sm text-muted-foreground text-center py-4",children:"Add at least 2 strategies or means"}):(0,s.jsx)("div",{className:"space-y-3",children:x.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("span",{className:"text-sm text-muted-foreground w-6",children:[a+1,"."]}),(0,s.jsx)(w.Input,{placeholder:"e.g., Provide trained teachers",value:e.text,onChange:s=>{var a,t;let r;return a=e.id,t=s.target.value,void(u(r=x.map(e=>e.id===a?{...e,text:t}:e)),g(o,r,p))},className:"flex-1"}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;let a;return s=e.id,void(u(a=x.filter(e=>e.id!==s)),g(o,a,p))},children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]},e.id))})})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.Button,{onClick:()=>{c(e,4)},disabled:!v,children:"Mark Step as Complete"})})]})},5:function({projectId:e}){let{projects:t,updateProjectData:i,updateProgress:c}=(0,r.useDemoStore)(),d=t.find(s=>s.id===e),[o,m]=(0,a.useState)({inputs:[],activities:[],outputs:[],outcomes:[],impact:""});(0,a.useEffect)(()=>{d?.data.resultsChain&&m(d.data.resultsChain)},[d?.data.resultsChain]);let h=s=>{i(e,"resultsChain",s)},x=e=>{let s={...o,[e]:[...o[e],""]};m(s),h(s)},u=o.inputs.length>=1&&o.activities.length>=1&&o.outputs.length>=1&&o.outcomes.length>=1&&o.impact;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)(C.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(N.Sparkles,{className:"h-4 w-4 text-primary"}),"Theory of Change (Results Chain)"]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"The Results Chain shows the logical pathway from resources to impact. It demonstrates how your inputs lead to activities, which produce outputs, resulting in outcomes, and ultimately contributing to long-term impact."})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[U.map((e,a)=>(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsxs)(C.Card,{className:`flex-1 border-2 ${e.color}`,children:[(0,s.jsxs)(C.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Badge,{variant:"outline",className:e.color,children:a+1}),(0,s.jsx)(C.CardTitle,{className:"text-base",children:e.title})]}),(0,s.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>x(e.key),children:(0,s.jsx)(B.Plus,{className:"h-4 w-4"})})]}),(0,s.jsx)(C.CardDescription,{className:"text-xs",children:e.description})]}),(0,s.jsx)(C.CardContent,{children:0===o[e.key].length?(0,s.jsxs)("button",{onClick:()=>x(e.key),className:"w-full py-3 text-sm text-muted-foreground border border-dashed rounded-lg hover:bg-muted/50",children:["+ Add ",e.title.toLowerCase()]}):(0,s.jsx)("div",{className:"space-y-2",children:o[e.key].map((a,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(w.Input,{placeholder:e.placeholder,value:a,onChange:s=>{var a,r;let l;return a=e.key,r=s.target.value,void(m(l={...o,[a]:o[a].map((e,s)=>s===t?r:e)}),h(l))},className:"flex-1 text-sm"}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;let a;return s=e.key,void(m(a={...o,[s]:o[s].filter((e,s)=>s!==t)}),h(a))},children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]},t))})})]}),a<U.length-1&&(0,s.jsx)("div",{className:"flex items-center justify-center w-8 pt-16",children:(0,s.jsx)(g.ArrowRight,{className:"h-5 w-5 text-muted-foreground"})})]},e.key)),(0,s.jsxs)("div",{className:"flex items-start gap-4",children:[(0,s.jsx)("div",{className:"w-8"}),(0,s.jsxs)(C.Card,{className:"flex-1 border-2 bg-primary/10 text-primary border-primary/30",children:[(0,s.jsxs)(C.CardHeader,{className:"pb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(n.Badge,{className:"bg-primary text-primary-foreground",children:"5"}),(0,s.jsx)(C.CardTitle,{className:"text-base",children:"Long-term Impact"})]}),(0,s.jsx)(C.CardDescription,{className:"text-xs",children:"The ultimate change your program contributes to"})]}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(T.Textarea,{placeholder:"e.g., All children in target areas achieve grade-appropriate literacy and numeracy skills, leading to improved life outcomes",value:o.impact,onChange:e=>{var s;let a;return s=e.target.value,void(m(a={...o,impact:s}),h(a))},rows:3,className:"resize-none"})})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.Button,{onClick:()=>{c(e,5)},disabled:!u,children:"Mark Step as Complete"})})]})},6:function({projectId:e}){let{projects:t,updateProjectData:i,updateProgress:c}=(0,r.useDemoStore)(),d=t.find(s=>s.id===e),[o,m]=(0,a.useState)({goal:{...q},purpose:{...q},outputs:[{...q}],activities:[{narrative:"",inputs:[""],timeline:"",responsible:""}]}),[h,x]=(0,a.useState)("goal");(0,a.useEffect)(()=>{d?.data.logframe&&m(d.data.logframe)},[d?.data.logframe]);let p=s=>{i(e,"logframe",s)},j=(e,s,a)=>{let t={...o,[e]:{...o[e],[s]:a}};m(t),p(t)},g=(e,s,a)=>{let t={...o,outputs:o.outputs.map((t,r)=>r===e?{...t,[s]:a}:t)};m(t),p(t)},v=(e,s,a)=>{let t={...o,activities:o.activities.map((t,r)=>r===e?{...t,[s]:a}:t)};m(t),p(t)},f=o.goal.narrative&&o.purpose.narrative&&o.outputs.length>0,b=(e,a,t)=>(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{className:"pb-3",children:[(0,s.jsx)(C.CardTitle,{className:"text-base",children:e}),(0,s.jsx)(C.CardDescription,{className:"text-xs",children:t})]}),(0,s.jsxs)(C.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Narrative Summary"}),(0,s.jsx)(T.Textarea,{placeholder:`Describe the ${e.toLowerCase()}...`,value:o[a].narrative,onChange:e=>j(a,"narrative",e.target.value),rows:2})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Indicators"}),o[a].indicators.map((e,t)=>(0,s.jsx)(w.Input,{placeholder:"Measurable indicator",value:e,onChange:e=>{let s=[...o[a].indicators];s[t]=e.target.value,j(a,"indicators",s)}},t)),(0,s.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:()=>j(a,"indicators",[...o[a].indicators,""]),children:[(0,s.jsx)(B.Plus,{className:"h-3 w-3 mr-1"})," Add"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Means of Verification"}),o[a].mov.map((e,t)=>(0,s.jsx)(w.Input,{placeholder:"Data source",value:e,onChange:e=>{let s=[...o[a].mov];s[t]=e.target.value,j(a,"mov",s)}},t)),(0,s.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:()=>j(a,"mov",[...o[a].mov,""]),children:[(0,s.jsx)(B.Plus,{className:"h-3 w-3 mr-1"})," Add"]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Assumptions"}),o[a].assumptions.map((e,t)=>(0,s.jsx)(w.Input,{placeholder:"Key assumption",value:e,onChange:e=>{let s=[...o[a].assumptions];s[t]=e.target.value,j(a,"assumptions",s)}},t)),(0,s.jsxs)(l.Button,{variant:"ghost",size:"sm",onClick:()=>j(a,"assumptions",[...o[a].assumptions,""]),children:[(0,s.jsx)(B.Plus,{className:"h-3 w-3 mr-1"})," Add"]})]})]})]})]});return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(C.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(u.Table,{className:"h-4 w-4 text-primary"}),"Logical Framework Matrix"]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:()=>{let{resultsChain:e,objectiveTree:s}=d?.data||{},a={goal:{narrative:e?.impact||"",indicators:[""],mov:[""],assumptions:[""]},purpose:{narrative:s?.centralObjective||"",indicators:[""],mov:[""],assumptions:[""]},outputs:e?.outputs?.map(e=>({narrative:e,indicators:[""],mov:[""],assumptions:[""]}))||[{...q}],activities:e?.activities?.map(e=>({narrative:e,inputs:[""],timeline:"",responsible:""}))||[{narrative:"",inputs:[""],timeline:"",responsible:""}]};m(a),p(a)},children:[(0,s.jsx)(L,{className:"mr-2 h-4 w-4"}),"Auto-populate from Results Chain"]})]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"The Logframe Matrix summarizes your program design in a structured format. It includes the hierarchy of objectives, indicators, means of verification, and assumptions."})})]}),(0,s.jsxs)(E.Tabs,{value:h,onValueChange:x,children:[(0,s.jsxs)(E.TabsList,{className:"grid w-full grid-cols-4",children:[(0,s.jsx)(E.TabsTrigger,{value:"goal",children:"Goal"}),(0,s.jsx)(E.TabsTrigger,{value:"purpose",children:"Purpose"}),(0,s.jsxs)(E.TabsTrigger,{value:"outputs",children:["Outputs"," ",(0,s.jsx)(n.Badge,{variant:"secondary",className:"ml-1",children:o.outputs.length})]}),(0,s.jsxs)(E.TabsTrigger,{value:"activities",children:["Activities"," ",(0,s.jsx)(n.Badge,{variant:"secondary",className:"ml-1",children:o.activities.length})]})]}),(0,s.jsx)(E.TabsContent,{value:"goal",className:"mt-4",children:b("Goal (Impact)","goal","The long-term, broad development impact the project contributes to")}),(0,s.jsx)(E.TabsContent,{value:"purpose",className:"mt-4",children:b("Purpose (Outcome)","purpose","The direct effect of the project on the target group")}),(0,s.jsxs)(E.TabsContent,{value:"outputs",className:"mt-4 space-y-4",children:[o.outputs.map((e,a)=>(0,s.jsxs)(C.Card,{children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(C.CardTitle,{className:"text-base",children:["Output ",a+1]}),o.outputs.length>1&&(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>(e=>{if(o.outputs.length>1){let s={...o,outputs:o.outputs.filter((s,a)=>a!==e)};m(s),p(s)}})(a),children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]})}),(0,s.jsxs)(C.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Narrative Summary"}),(0,s.jsx)(T.Textarea,{placeholder:"Describe this output...",value:e.narrative,onChange:e=>g(a,"narrative",e.target.value),rows:2})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Indicators"}),e.indicators.map((t,r)=>(0,s.jsx)(w.Input,{placeholder:"Measurable indicator",value:t,onChange:s=>{let t=[...e.indicators];t[r]=s.target.value,g(a,"indicators",t)}},r))]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Means of Verification"}),e.mov.map((t,r)=>(0,s.jsx)(w.Input,{placeholder:"Data source",value:t,onChange:s=>{let t=[...e.mov];t[r]=s.target.value,g(a,"mov",t)}},r))]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Assumptions"}),e.assumptions.map((t,r)=>(0,s.jsx)(w.Input,{placeholder:"Key assumption",value:t,onChange:s=>{let t=[...e.assumptions];t[r]=s.target.value,g(a,"assumptions",t)}},r))]})]})]})]},a)),(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>{let e={...o,outputs:[...o.outputs,{...q}]};m(e),p(e)},children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"})," Add Output"]})]}),(0,s.jsxs)(E.TabsContent,{value:"activities",className:"mt-4 space-y-4",children:[o.activities.map((e,a)=>(0,s.jsxs)(C.Card,{children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)(C.CardTitle,{className:"text-base",children:["Activity ",a+1]}),o.activities.length>1&&(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>(e=>{if(o.activities.length>1){let s={...o,activities:o.activities.filter((s,a)=>a!==e)};m(s),p(s)}})(a),children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]})}),(0,s.jsxs)(C.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Activity Description"}),(0,s.jsx)(T.Textarea,{placeholder:"Describe this activity...",value:e.narrative,onChange:e=>v(a,"narrative",e.target.value),rows:2})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Inputs Required"}),e.inputs.map((t,r)=>(0,s.jsx)(w.Input,{placeholder:"Resource needed",value:t,onChange:s=>{let t=[...e.inputs];t[r]=s.target.value,v(a,"inputs",t)}},r))]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Timeline"}),(0,s.jsx)(w.Input,{placeholder:"e.g., Q1-Q2 2026",value:e.timeline,onChange:e=>v(a,"timeline",e.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Responsible"}),(0,s.jsx)(w.Input,{placeholder:"Who is responsible",value:e.responsible,onChange:e=>v(a,"responsible",e.target.value)})]})]})]})]},a)),(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>{let e={...o,activities:[...o.activities,{narrative:"",inputs:[""],timeline:"",responsible:""}]};m(e),p(e)},children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"})," Add Activity"]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.Button,{onClick:()=>{c(e,6)},disabled:!f,children:"Mark Step as Complete"})})]})},7:function({projectId:e}){let{projects:t,updateProjectData:i,updateProgress:c}=(0,r.useDemoStore)(),d=t.find(s=>s.id===e),[o,m]=(0,a.useState)({indicators:[],dataCollection:"",reportingSchedule:""});(0,a.useEffect)(()=>{d?.data.monitoring&&m(d.data.monitoring)},[d?.data.monitoring]);let h=s=>{i(e,"monitoring",s)},x=()=>{let e={id:crypto.randomUUID(),name:"",type:"output",baseline:"",target:"",frequency:"quarterly",source:"",responsible:""},s={...o,indicators:[...o.indicators,e]};m(s),h(s)},u=(e,s,a)=>{let t={...o,indicators:o.indicators.map(t=>t.id===e?{...t,[s]:a}:t)};m(t),h(t)},j=(e,s)=>{let a={...o,[e]:s};m(a),h(a)},g=o.indicators.length>=1&&o.dataCollection&&o.reportingSchedule;return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)(C.Card,{className:"bg-primary/5 border-primary/20",children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)(C.CardTitle,{className:"text-base flex items-center gap-2",children:[(0,s.jsx)(p.BarChart3,{className:"h-4 w-4 text-primary"}),"Monitoring & Evaluation Framework"]})}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Design indicators to measure your program's progress and impact. Include baseline values, targets, data sources, and responsible parties for each indicator."})})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("h3",{className:"text-lg font-semibold",children:"Indicators"}),(0,s.jsxs)(l.Button,{onClick:x,children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"})," Add Indicator"]})]}),0===o.indicators.length?(0,s.jsx)(C.Card,{className:"border-dashed",children:(0,s.jsxs)(C.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(p.BarChart3,{className:"h-12 w-12 text-muted-foreground mb-4"}),(0,s.jsx)("h3",{className:"text-lg font-medium mb-1",children:"No indicators yet"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Add indicators to track your program's progress"}),(0,s.jsxs)(l.Button,{onClick:x,children:[(0,s.jsx)(B.Plus,{className:"mr-2 h-4 w-4"})," Add First Indicator"]})]})}):o.indicators.map((e,a)=>(0,s.jsxs)(C.Card,{children:[(0,s.jsx)(C.CardHeader,{className:"pb-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(C.CardTitle,{className:"text-base",children:["Indicator ",a+1]}),(0,s.jsx)(n.Badge,{variant:"outline",children:R.find(s=>s.value===e.type)?.label})]}),(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>{var s;let a;return s=e.id,void(m(a={...o,indicators:o.indicators.filter(e=>e.id!==s)}),h(a))},children:(0,s.jsx)(D.Trash2,{className:"h-4 w-4 text-destructive"})})]})}),(0,s.jsxs)(C.CardContent,{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Indicator Name"}),(0,s.jsx)(w.Input,{placeholder:"e.g., Number of teachers trained",value:e.name,onChange:s=>u(e.id,"name",s.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Type"}),(0,s.jsxs)(k.Select,{value:e.type,onValueChange:s=>u(e.id,"type",s),children:[(0,s.jsx)(k.SelectTrigger,{children:(0,s.jsx)(k.SelectValue,{})}),(0,s.jsx)(k.SelectContent,{children:R.map(e=>(0,s.jsx)(k.SelectItem,{value:e.value,children:e.label},e.value))})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Baseline"}),(0,s.jsx)(w.Input,{placeholder:"e.g., 0",value:e.baseline,onChange:s=>u(e.id,"baseline",s.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Target"}),(0,s.jsx)(w.Input,{placeholder:"e.g., 100",value:e.target,onChange:s=>u(e.id,"target",s.target.value)})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Frequency"}),(0,s.jsxs)(k.Select,{value:e.frequency,onValueChange:s=>u(e.id,"frequency",s),children:[(0,s.jsx)(k.SelectTrigger,{children:(0,s.jsx)(k.SelectValue,{})}),(0,s.jsx)(k.SelectContent,{children:O.map(e=>(0,s.jsx)(k.SelectItem,{value:e.value,children:e.label},e.value))})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Responsible"}),(0,s.jsx)(w.Input,{placeholder:"Who collects data",value:e.responsible,onChange:s=>u(e.id,"responsible",s.target.value)})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)("label",{className:"text-sm font-medium",children:"Data Source"}),(0,s.jsx)(w.Input,{placeholder:"e.g., Training attendance records, Post-training assessments",value:e.source,onChange:s=>u(e.id,"source",s.target.value)})]})]})]},e.id))]}),(0,s.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{children:[(0,s.jsx)(C.CardTitle,{className:"text-base",children:"Data Collection Methods"}),(0,s.jsx)(C.CardDescription,{children:"How will you collect data for your indicators?"})]}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(T.Textarea,{placeholder:"Describe your data collection methods, tools, and processes...",value:o.dataCollection,onChange:e=>j("dataCollection",e.target.value),rows:4})})]}),(0,s.jsxs)(C.Card,{children:[(0,s.jsxs)(C.CardHeader,{children:[(0,s.jsx)(C.CardTitle,{className:"text-base",children:"Reporting Schedule"}),(0,s.jsx)(C.CardDescription,{children:"When and how will you report on progress?"})]}),(0,s.jsx)(C.CardContent,{children:(0,s.jsx)(T.Textarea,{placeholder:"Describe your reporting schedule, formats, and audiences...",value:o.reportingSchedule,onChange:e=>j("reportingSchedule",e.target.value),rows:4})})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(l.Button,{onClick:()=>{c(e,7)},disabled:!g,children:"Complete Program Design"})})]})}};function G(){let e=(0,t.useRouter)(),o=(0,t.useParams)().id,{projects:m,setCurrentProject:h,updateProject:x}=(0,r.useDemoStore)(),[u,p]=(0,a.useState)(1),[v,C]=(0,a.useState)(!1),y=m.find(e=>e.id===o);if((0,a.useEffect)(()=>{y&&(h(y),p(y.currentStep||1))},[y,h]),!y)return(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-[60vh]",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Project not found"}),(0,s.jsx)("p",{className:"text-muted-foreground mb-4",children:"The project you are looking for does not exist."}),(0,s.jsx)(l.Button,{onClick:()=>e.push("/projects"),children:"Go to Projects"})]});let w=async()=>{C(!0),await new Promise(e=>setTimeout(e,500)),C(!1)},T=W[u],k=r.LFA_STEPS.find(e=>e.id===u);return(0,s.jsx)(c.TooltipProvider,{children:(0,s.jsxs)("div",{className:"flex flex-col h-[calc(100vh-8rem)]",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsx)(l.Button,{variant:"ghost",size:"icon",onClick:()=>e.push("/projects"),children:(0,s.jsx)(j.ArrowLeft,{className:"h-4 w-4"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-foreground",children:y.name}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:k?.description})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)(n.Badge,{variant:"secondary",className:"gap-1",children:[(0,s.jsx)(N.Sparkles,{className:"h-3 w-3"}),"AI Enabled"]}),(0,s.jsxs)(l.Button,{variant:"outline",size:"sm",onClick:w,disabled:v,children:[(0,s.jsx)(f,{className:"mr-2 h-4 w-4"}),v?"Saving...":"Save"]})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,s.jsxs)("span",{className:"text-sm font-medium",children:["Step ",u," of 7: ",k?.name]}),(0,s.jsxs)("span",{className:"text-sm text-muted-foreground",children:[Math.round(u/7*100),"% Complete"]})]}),(0,s.jsx)(i.Progress,{value:u/7*100,className:"h-2"})]}),(0,s.jsx)("div",{className:"flex items-center justify-center gap-1 mb-6 overflow-x-auto pb-2",children:r.LFA_STEPS.map((e,a)=>{let t=V[e.icon]||d.Target,r=e.id===u,l=e.id<y.currentStep+1,i=e.id<=y.currentStep+1;return(0,s.jsxs)(c.Tooltip,{children:[(0,s.jsx)(c.TooltipTrigger,{asChild:!0,children:(0,s.jsxs)("button",{onClick:()=>{var s;(s=e.id)<=y.currentStep+1&&p(s)},disabled:!i,className:`flex flex-col items-center gap-1 p-2 rounded-lg transition-colors min-w-[80px] ${r?"bg-primary text-primary-foreground":l?"bg-primary/10 text-primary hover:bg-primary/20":i?"hover:bg-muted text-muted-foreground":"text-muted-foreground/40 cursor-not-allowed"}`,children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(t,{className:"h-5 w-5"}),l&&e.id<u&&(0,s.jsx)(b.CheckCircle2,{className:"absolute -top-1 -right-1 h-3 w-3 text-primary fill-primary-foreground"})]}),(0,s.jsx)("span",{className:"text-xs font-medium hidden sm:block",children:e.name}),(0,s.jsx)("span",{className:"text-xs sm:hidden",children:e.id})]})}),(0,s.jsxs)(c.TooltipContent,{side:"bottom",children:[(0,s.jsx)("p",{className:"font-medium",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:e.description})]})]},e.id)})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto rounded-lg border border-border bg-card p-6",children:T?(0,s.jsx)(T,{projectId:o}):(0,s.jsxs)("div",{className:"p-4 text-center text-muted-foreground",children:["Component for step ",u," not found."]})}),(0,s.jsxs)("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-border",children:[(0,s.jsxs)(l.Button,{variant:"outline",onClick:()=>{u>1&&p(u-1)},disabled:1===u,children:[(0,s.jsx)(j.ArrowLeft,{className:"mr-2 h-4 w-4"}),"Previous"]}),(0,s.jsx)("div",{className:"flex items-center gap-2",children:u<7?(0,s.jsxs)(l.Button,{onClick:()=>{if(u<7){let e=u+1;p(e),e>y.currentStep&&x(o,{currentStep:e})}},children:["Next Step",(0,s.jsx)(g.ArrowRight,{className:"ml-2 h-4 w-4"})]}):(0,s.jsxs)(l.Button,{onClick:()=>e.push(`/projects/${o}/review`),children:["Complete & Review",(0,s.jsx)(b.CheckCircle2,{className:"ml-2 h-4 w-4"})]})})]})]})})}e.s(["default",()=>G],25443)}]);